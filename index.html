<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureBrowser - –ó–∞—â–∏—â–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- –û—Å—Ç–∞–ª—å–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
    </div>

    <script src="browser.js"></script>
    <script src="security.js"></script>
    <script src="vpn.js"></script>
    
    <script>
    // GitHub Pages CORS fix
    document.addEventListener('DOMContentLoaded', function() {
        const frame = document.getElementById('browserFrame');
        const originalLoadUrl = window.secureBrowser.loadUrl;
        
        window.secureBrowser.loadUrl = function(url) {
            if (url.startsWith('http') && !url.includes('cors-anywhere')) {
                url = 'https://cors-anywhere.herokuapp.com/' + url;
            }
            frame.src = url;
            this.logSecurityEvent(`–ó–∞–≥—Ä—É–∂–µ–Ω–æ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏: ${url}`, 'info');
        };
    });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureBrowser - –ó–∞—â–∏—â–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üîí SecureBrowser</h1>
            <div class="status-indicators">
                <span id="vpnStatus" class="status offline">VPN: –í—ã–∫–ª</span>
                <span id="adblockStatus" class="status active">AdBlock: –í–∫–ª</span>
                <span id="privacyStatus" class="status active">–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å: –í–∫–ª</span>
            </div>
        </header>

        <div class="browser-controls">
            <div class="url-bar">
                <input type="text" id="urlInput" placeholder="–í–≤–µ–¥–∏—Ç–µ URL –∏–ª–∏ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å">
                <button id="goButton">–ü–µ—Ä–µ–π—Ç–∏</button>
                <button id="secureSearch">üîç –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–æ–∏—Å–∫</button>
            </div>
            
            <div class="security-controls">
                <button id="toggleVPN">–í–∫–ª—é—á–∏—Ç—å VPN</button>
                <button id="scanPage">–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</button>
                <button id="clearData">–û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
            </div>
        </div>

        <div class="browser-content">
            <iframe id="browserFrame" src="about:blank"></iframe>
        </div>

        <div class="security-panel">
            <h3>üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –∞–∫—Ç–∏–≤–Ω–∞</h3>
            <div class="protection-list">
                <div class="protection-item">
                    <span>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ç—Ä–µ–∫–µ—Ä–æ–≤</span>
                    <span class="status-badge active">–ê–∫—Ç–∏–≤–Ω–æ</span>
                </div>
                <div class="protection-item">
                    <span>–ó–∞—â–∏—Ç–∞ –æ—Ç —Ñ–∏—à–∏–Ω–≥–∞</span>
                    <span class="status-badge active">–ê–∫—Ç–∏–≤–Ω–æ</span>
                </div>
                <div class="protection-item">
                    <span>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º—ã</span>
                    <span class="status-badge active">–ê–∫—Ç–∏–≤–Ω–æ</span>
                </div>
                <div class="protection-item">
                    <span>–ê–Ω—Ç–∏-IP –ª–æ–≥–≥–∏–Ω–≥</span>
                    <span class="status-badge active">–ê–∫—Ç–∏–≤–Ω–æ</span>
                </div>
            </div>
        </div>

        <div class="logs-panel">
            <h3>üìä –õ–æ–≥ –∑–∞—â–∏—Ç—ã</h3>
            <div id="securityLogs" class="logs-container"></div>
        </div>
    </div>

    <script src="browser.js"></script>
    <script src="security.js"></script>
    <script src="vpn.js"></script>
</body>
</html>

<script>
// CORS –ø—Ä–æ–∫—Å–∏ –¥–ª—è GitHub Pages
const corsProxy = 'https://cors-anywhere.herokuapp.com/';

// –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É iframe –¥–ª—è –æ–±—Ö–æ–¥–∞ CORS
const originalFrameSrc = Object.getOwnPropertyDescriptor(HTMLIFrameElement.prototype, 'src');
Object.defineProperty(HTMLIFrameElement.prototype, 'src', {
    get: function() {
        return originalFrameSrc.get.call(this);
    },
    set: function(value) {
        if (value && !value.startsWith('about:') && !value.startsWith('data:')) {
            value = corsProxy + value;
        }
        originalFrameSrc.set.call(this, value);
    }
});
</script>